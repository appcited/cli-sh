#!/bin/sh
set -eu

#            /$$ /$$                   /$$
#           | $$|__/                  | $$
#   /$$$$$$$| $$ /$$          /$$$$$$$| $$$$$$$
#  /$$_____/| $$| $$ /$$$$$$ /$$_____/| $$__  $$
# | $$      | $$| $$|______/|  $$$$$$ | $$  \ $$
# | $$      | $$| $$         \____  $$| $$  | $$
# |  $$$$$$$| $$| $$         /$$$$$$$/| $$  | $$
#  \_______/|__/|__/        |_______/ |__/  |__/
#
#  A minimal, customizable CLI written in shell
#              cli-sh.dev | v0.3.3

if [ -z "${1:-}" ]; then
    find run -type f

    exit 2
fi

if [ -f "./run/hooks/before" ]; then
    . ./run/hooks/before
fi

if [ -d ${1} ]; then
    "${1}/$(basename ${1})"
else
    ${1}
fi

if [ -f "./run/hooks/after" ]; then
    . ./run/hooks/after
fi
